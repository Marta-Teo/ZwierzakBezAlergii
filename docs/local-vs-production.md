# ğŸ”„ Lokalna vs Produkcyjna baza - Proste wytÅ‚umaczenie

## ğŸ¯ GÅ‚Ã³wna rÃ³Å¼nica w jednym obrazku

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TWÃ“J KOMPUTER (TERAZ)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ’» Windows                                                 â”‚
â”‚      â””â”€â”€ Supabase lokalny                                   â”‚
â”‚          â””â”€â”€ Baza PostgreSQL                                â”‚
â”‚              â”œâ”€â”€ ğŸ“Š Tabele (foods, brands, users...)       â”‚
â”‚              â””â”€â”€ ğŸ‘¤ UÅ¼ytkownicy testowi                     â”‚
â”‚                                                             â”‚
â”‚  URL: http://localhost:54321                                â”‚
â”‚  Port: 54322 (baza)                                         â”‚
â”‚                                                             â”‚
â”‚  âœ… DziaÅ‚a: Tylko gdy Ty uruchomisz                        â”‚
â”‚  âœ… DostÄ™p: Tylko Ty                                        â”‚
â”‚  âœ… Dane: Tylko na Twoim dysku                             â”‚
â”‚  âŒ Internet: Nie ma dostÄ™pu                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•ï¸
                    TO NIE JEST TO SAMO!
                           â†•ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  INTERNET (PRODUKCJA - DOCELOWO)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â˜ï¸ Chmura Supabase (Frankfurt/Ireland)                    â”‚
â”‚      â””â”€â”€ Projekt "ZwierzakBezAlergii Production"           â”‚
â”‚          â””â”€â”€ Baza PostgreSQL                                â”‚
â”‚              â”œâ”€â”€ ğŸ“Š Tabele (foods, brands, users...)       â”‚
â”‚              â””â”€â”€ ğŸ‘¥ Prawdziwi uÅ¼ytkownicy                   â”‚
â”‚                                                             â”‚
â”‚  URL: https://xxxyyy.supabase.co                            â”‚
â”‚  Domena: https://www.zwierzakbezalergii.pl                 â”‚
â”‚                                                             â”‚
â”‚  âœ… DziaÅ‚a: 24/7                                            â”‚
â”‚  âœ… DostÄ™p: CaÅ‚y Å›wiat                                      â”‚
â”‚  âœ… Dane: Bezpieczna chmura                                 â”‚
â”‚  âœ… Backup: Automatyczny przez Supabase                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Analogia (Å¼eby byÅ‚o zrozumiaÅ‚e)

### Lokalna baza = Szkicownik artysty

```
ğŸ¨ Masz szkicownik:
   - Rysujesz w nim prototypy
   - Testujesz pomysÅ‚y
   - Poprawiasz bÅ‚Ä™dy
   - Nikt inny tego nie widzi
   - MoÅ¼esz usunÄ…Ä‡ i zaczÄ…Ä‡ od nowa
   
   To Twoja LOKALNA baza!
```

### Produkcyjna baza = Galeria sztuki

```
ğŸ–¼ï¸ Wystawiasz w galerii:
   - Gotowe dzieÅ‚a dla publicznoÅ›ci
   - Wszyscy mogÄ… oglÄ…daÄ‡
   - Musisz dbaÄ‡ o bezpieczeÅ„stwo
   - Nie moÅ¼esz "po prostu usunÄ…Ä‡"
   
   To Twoja PRODUKCYJNA baza!
```

**Klucz:** Szkicownik i galeria to DWA RÃ“Å»NE MIEJSCA! To samo z bazami.

---

## ğŸ“‹ PorÃ³wnanie szczegÃ³Å‚owe

| Aspekt | ğŸ  Lokalna (Development) | ğŸŒ Produkcyjna (Production) |
|--------|--------------------------|------------------------------|
| **Lokalizacja** | TwÃ³j komputer | Chmura Supabase |
| **URL bazowy** | http://localhost:54321 | https://xxxyyy.supabase.co |
| **Domena aplikacji** | http://localhost:4321 | https://zwierzakbezalergii.pl |
| **DostÄ™p** | Tylko Ty | Wszyscy w internecie |
| **UÅ¼ytkownicy** | Testowi (moÅ¼esz kasowaÄ‡) | Prawdziwi (NIE kasuj!) |
| **Dane** | Testowe, seed.sql | Prawdziwe, wartoÅ›ciowe |
| **Backup** | RÄ™czny (Twoje skrypty) | Automatyczny (Supabase) |
| **Uptime** | Gdy wÅ‚Ä…czysz | 24/7/365 |
| **Koszt** | 0 zÅ‚ | 0-200 zÅ‚/mies* |
| **Zmiany** | Swobodnie testuj | OstroÅ¼nie, to produkcja! |
| **Reset** | `supabase db reset` | âŒ NIGDY! |

\* Supabase Free Plan: do 500MB bazy, 50k uÅ¼ytkownikÃ³w miesiÄ™cznie

---

## ğŸ”€ Jak dane przepÅ‚ywajÄ…?

### Scenariusz 1: Dodajesz nowÄ… karmÄ™ LOKALNIE

```
Ty (na komputerze)
    â”‚
    â”œâ”€ Uruchamiasz: supabase start
    â”œâ”€ Uruchamiasz: npm run dev
    â”œâ”€ Otwierasz: http://localhost:4321
    â”œâ”€ Logujesz siÄ™ jako admin
    â”œâ”€ Dodajesz karmÄ™ "Acana Heritage Ryba"
    â”‚
    â–¼
Zapisane w LOKALNEJ bazie (TwÃ³j komputer)
    â”‚
    â”œâ”€ Tylko Ty to widzisz
    â”œâ”€ Nikt w internecie tego nie widzi
    â””â”€ Jak zamkniesz komputer, nikt nie ma dostÄ™pu
```

### Scenariusz 2: UÅ¼ytkownik rejestruje siÄ™ na PRODUKCJI

```
UÅ¼ytkownik (w Warszawie)
    â”‚
    â”œâ”€ Otwiera: https://www.zwierzakbezalergii.pl
    â”œâ”€ Klika "Rejestracja"
    â”œâ”€ Wpisuje email: kowalska@gmail.com
    â”œâ”€ Tworzy konto
    â”‚
    â–¼
Zapisane w PRODUKCYJNEJ bazie (Chmura)
    â”‚
    â”œâ”€ DostÄ™pne 24/7
    â”œâ”€ Ty teÅ¼ moÅ¼esz to zobaczyÄ‡ (w panelu Supabase)
    â”œâ”€ Inni uÅ¼ytkownicy widzÄ… tÄ™ karmÄ™ (jeÅ›li dodaÅ‚)
    â””â”€ Backup automatyczny
```

**WaÅ¼ne:** Te dwa scenariusze to OSOBNE bazy! Nie sÄ… ze sobÄ… poÅ‚Ä…czone.

---

## â“ NajczÄ™stsze pytania

### 1. "DodaÅ‚am dane lokalnie, czy bÄ™dÄ… na stronie?"

**NIE!** âŒ

Lokalna baza = TwÃ³j komputer  
Produkcyjna baza = Internet

To jak pytaÄ‡: "ZapisaÅ‚am plik na moim komputerze, czy bÄ™dzie na Twoim?"

**Jak przenieÅ›Ä‡ dane?**
```bash
# 1. ZrÃ³b backup lokalnej bazy
.\scripts\backup-database.ps1

# 2. PrzenieÅ› do produkcji (gdy bÄ™dzie gotowa)
psql -h db.xxxyyy.supabase.co -U postgres -f backups/backup.sql
```

---

### 2. "Jak sprawdziÄ‡ ktÃ³rÄ… bazÄ™ uÅ¼ywam?"

**SprawdÅº URL w pliku .env:**

```bash
# JeÅ›li widzisz:
SUPABASE_URL=http://127.0.0.1:54321
# lub
SUPABASE_URL=http://localhost:54321

â¡ï¸ To LOKALNA baza

# JeÅ›li widzisz:
SUPABASE_URL=https://xxxyyy.supabase.co

â¡ï¸ To PRODUKCYJNA baza
```

**Alternatywnie - sprawdÅº w aplikacji:**
```javascript
// Dodaj tymczasowo do kodu:
console.log('Supabase URL:', import.meta.env.PUBLIC_SUPABASE_URL);
```

JeÅ›li widzisz `localhost` â†’ LOKALNA  
JeÅ›li widzisz `supabase.co` â†’ PRODUKCYJNA

---

### 3. "Czy mogÄ™ mieÄ‡ obie bazy jednoczeÅ›nie?"

**TAK!** I to jest normalne i zalecane! ğŸ’¡

```
ğŸ“ TwÃ³j projekt
â”œâ”€â”€ .env (lokalna - dla developmentu)
â”‚   SUPABASE_URL=http://localhost:54321
â”‚
â””â”€â”€ .env.production (produkcyjna - dla hostingu)
    SUPABASE_URL=https://xxxyyy.supabase.co
```

**Workflow:**
1. Pracujesz lokalnie â†’ uÅ¼ywasz `.env` (localhost)
2. Deployujesz na hosting â†’ hosting uÅ¼ywa `.env.production`
3. UÅ¼ytkownicy widzÄ… produkcyjnÄ… bazÄ™
4. Ty dalej moÅ¼esz testowaÄ‡ lokalnie!

---

### 4. "Co siÄ™ stanie jak zrobiÄ™ `supabase db reset`?"

**Na lokalnej bazie:**
```bash
supabase db reset
```
âœ… OK! To wyczyÅ›ci lokalnÄ… bazÄ™ i zaÅ‚aduje seed.sql  
âœ… Bezpieczne, moÅ¼esz robiÄ‡ ile razy chcesz  
âœ… Nikt inny tego nie poczuje

**Na produkcyjnej bazie:**
âŒ NIGDY NIE RÃ“B TEGO!  
âŒ Usuniesz wszystkich prawdziwych uÅ¼ytkownikÃ³w!  
âŒ Stracisz wszystkie dane!

ğŸ’¡ **Dobre wieÅ›ci:** Komenda `supabase db reset` dziaÅ‚a TYLKO na lokalnej bazie. Nie moÅ¼e przypadkowo usunÄ…Ä‡ produkcji.

---

### 5. "Jak przenieÅ›Ä‡ zmiany z lokalnej do produkcyjnej?"

**Struktura bazy (tabele, kolumny):**
```bash
# 1. StwÃ³rz migracjÄ™ lokalnie
supabase migration new add_new_column

# 2. Edytuj plik migracji w supabase/migrations/

# 3. Testuj lokalnie
supabase db reset

# 4. Gdy dziaÅ‚a, przenieÅ› do produkcji
supabase db push --project-ref xxxyyy
```

**Dane (karmy, skÅ‚adniki):**
```bash
# Opcja A: RÄ™cznie przez panel admina
# Zaloguj siÄ™ na zwierzakbezalergii.pl i dodaj

# Opcja B: SQL script
psql -h db.xxxyyy.supabase.co -U postgres -f update.sql

# Opcja C: Przez Supabase Dashboard
# SQL Editor â†’ wklej zapytanie â†’ Run
```

---

## ğŸ“ Dobre praktyki

### âœ… RÃ³b tak:

```
1. Rozwijaj i testuj lokalnie
   â†’ supabase start
   â†’ npm run dev
   â†’ Testuj funkcje

2. Commit kodu do git
   â†’ git add .
   â†’ git commit -m "feat: nowa funkcja"
   â†’ git push

3. Deploy na produkcjÄ™
   â†’ Hosting automatycznie wdraÅ¼a
   â†’ UÅ¼ywa produkcyjnej bazy

4. Regularnie rÃ³b backup produkcji
   â†’ supabase db dump --project-ref xxxyyy
   â†’ Zapisz w bezpiecznym miejscu
```

### âŒ Nie rÃ³b tak:

```
1. âŒ Nie testuj nowych funkcji na produkcji
   â†’ MoÅ¼esz zepsuÄ‡ dane uÅ¼ytkownikÃ³w

2. âŒ Nie edytuj danych produkcyjnych lokalnie
   â†’ To osobne bazy, nie ma sensu

3. âŒ Nie commituj .env do git
   â†’ Klucze produkcyjne mogÄ… wyciec

4. âŒ Nie rÃ³b `supabase db reset` na produkcji
   â†’ Na szczÄ™Å›cie to i tak nie dziaÅ‚a na produkcji ğŸ˜…
```

---

## ğŸ“Š Wizualizacja workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TWÃ“J WORKFLOW                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£ DEVELOPMENT (lokalnie)
   â†“
   Ty â†’ Kod â†’ Lokalna baza
   â”‚
   â”œâ”€ Testujesz
   â”œâ”€ Poprawiasz bÅ‚Ä™dy
   â”œâ”€ Dodajesz funkcje
   â””â”€ Commit do git

2ï¸âƒ£ COMMIT & PUSH
   â†“
   Git â†’ GitHub
   â”‚
   â””â”€ Kod jest w repozytorium

3ï¸âƒ£ DEPLOY (automatyczny lub rÄ™czny)
   â†“
   GitHub â†’ Hosting (DigitalOcean/Vercel)
   â”‚
   â”œâ”€ Build aplikacji
   â”œâ”€ UÅ¼yj .env.production
   â””â”€ PoÅ‚Ä…cz z produkcyjnÄ… bazÄ…

4ï¸âƒ£ PRODUCTION (live)
   â†“
   Hosting â†’ Produkcyjna baza
   â”‚
   â””â”€ UÅ¼ytkownicy korzystajÄ…

5ï¸âƒ£ MONITORING
   â†“
   Ty â†’ Supabase Dashboard
   â”‚
   â”œâ”€ Sprawdzasz logi
   â”œâ”€ Patrzysz na statystyki
   â””â”€ Robisz backupy
```

---

## ğŸ”’ BezpieczeÅ„stwo

### Lokalna baza

```
âœ… HasÅ‚o moÅ¼e byÄ‡ proste (postgres/postgres)
âœ… MoÅ¼esz je pokazaÄ‡ (to tylko lokalnie)
âœ… Nie musisz siÄ™ martwiÄ‡
```

### Produkcyjna baza

```
ğŸ” HasÅ‚o MUSI byÄ‡ silne (min. 20 znakÃ³w)
ğŸ” NIGDY nie pokazuj publicznie
ğŸ” Przechowuj w menedÅ¼erze haseÅ‚
ğŸ” Service Role Key jest jak klucz gÅ‚Ã³wny - chroÅ„ go!
ğŸ” Nie commituj .env.production do git
```

---

## ğŸ†˜ Troubleshooting

### "Dane sÄ… na lokalnej, ale nie na produkcji"

**To normalne!** To dwie osobne bazy.

**RozwiÄ…zanie:** PrzenieÅ› dane rÄ™cznie (patrz punkt 5 w FAQ).

---

### "Nie wiem jakiej bazy uÅ¼ywam"

**SprawdÅº:**
```bash
# Zobacz URL w pliku .env
cat .env | grep SUPABASE_URL

# JeÅ›li localhost â†’ lokalna
# JeÅ›li supabase.co â†’ produkcyjna
```

---

### "ZmieniÅ‚am coÅ› lokalnie i nic siÄ™ nie dzieje na stronie"

**Przyczyna:** Strona (produkcja) uÅ¼ywa innej bazy niÅ¼ Ty lokalnie.

**RozwiÄ…zanie:** 
1. Commit i push kodu do git
2. Deploy na hosting
3. PrzenieÅ› dane do produkcyjnej bazy (jeÅ›li trzeba)

---

## ğŸ“š Podsumowanie

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ZAPAMIÄ˜TAJ:                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ  LOKALNA BAZA                                        â”‚
â”‚     â€¢ TwÃ³j komputer                                     â”‚
â”‚     â€¢ localhost:54321                                   â”‚
â”‚     â€¢ Testowanie i rozwÃ³j                               â”‚
â”‚     â€¢ MoÅ¼esz robiÄ‡ co chcesz                           â”‚
â”‚                                                         â”‚
â”‚  ğŸŒ PRODUKCYJNA BAZA                                    â”‚
â”‚     â€¢ Chmura Supabase                                   â”‚
â”‚     â€¢ https://xxxyyy.supabase.co                        â”‚
â”‚     â€¢ Prawdziwi uÅ¼ytkownicy                            â”‚
â”‚     â€¢ OstroÅ¼nie z zmianami!                            â”‚
â”‚                                                         â”‚
â”‚  âš ï¸  TO NIE JEST TO SAMO!                               â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**WiÄ™cej informacji:**
- [Checklist wdroÅ¼enia](./deployment-checklist.md)
- [Backup i przywracanie](./backup-restore-guide.md)
- [FAQ](./backup-faq.md)

---

**Pytania?** To normalne Å¼e to jest na poczÄ…tku zagmatwane. Z czasem to bÄ™dzie naturalne! ğŸ˜Š

